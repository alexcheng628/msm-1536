<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dynamic Gauge Chart</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/justgage@1.3.5/justgage.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { width: 50%; margin: auto; text-align: center; }
        .selectors { margin-bottom: 20px; }
        #gauge { width: 400px; height: 320px; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Dynamic Gauge Chart</h1>
        <div class="selectors">
            <label for="origin">Select Origin:</label>
            <select id="origin" onchange="updateGauge()">
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
            </select>
            <label for="destination">Select Destination:</label>
            <select id="destination" onchange="updateGauge()">
                <option value="X">X</option>
                <option value="Y">Y</option>
                <option value="Z">Z</option>
            </select>
        </div>
        <div id="gauge"></div>
    </div>

    <script>
        // Sample data
        const data = {
            'A': {
                'X': { base: 30, actual: 50, target: 70 },
                'Y': { base: 40, actual: 60, target: 80 },
                'Z': { base: 50, actual: 70, target: 90 }
            },
            'B': {
                'X': { base: 20, actual: 40, target: 60 },
                'Y': { base: 30, actual: 50, target: 70 },
                'Z': { base: 40, actual: 60, target: 80 }
            },
            'C': {
                'X': { base: 10, actual: 30, target: 50 },
                'Y': { base: 20, actual: 40, target: 60 },
                'Z': { base: 30, actual: 50, target: 70 }
            }
        };

        // Initial gauge setup
        let gauge = new JustGage({
            id: 'gauge',
            value: 0,
            min: 0,
            max: 100,
            title: "Performance",
            label: "Value",
            pointer: true,
            gaugeWidthScale: 0.6,
            levelColors: ["#F03E3E", "#FFDD00", "#30B32D"]
        });

        // Update gauge based on selected origin and destination
        function updateGauge() {
            const origin = document.getElementById('origin').value;
            const destination = document.getElementById('destination').value;
            const selectedData = data[origin][destination];

            gauge.refresh(selectedData.actual);
        }

        // Initialize gauge with default values
        updateGauge();
    </script>
</body>
</html>